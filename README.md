# Хеш-таблица. Исследование возможностей оптимизации поиска по   хеш-таблице

## Цель работы
Изучить возможности оптимизации хеш-функций и инфраструктуры хеш-таблиц с целью повышения их скорости работы. Провести анализ по поводу необходимости тех или иных оптимизаций, дать им оценку.

## Инструменты
Инструмент callgrind, утилиты valgrind, инструмент визуализации kcachegring, роман Ч. Паланика "Fight club".

## Экспериментальная установка

Ноутбук Honor Magicbook 15 на процессоре Intel Core i5-10210U, любезно предоставленный мне для работы сообществом [Физтех-Союз](https://phystech-union.org/phystech-alpha/)
## Теоретическая часть

Хеш-таблица - это структура данных, которая используется для хранения и поиска пар ключ-значение. Ключ - это уникальный идентификатор, который используется для получения значения из таблицы. Хеш-функция - это функция, которая преобразует ключ в индекс, по которому значение будет храниться в таблице.

Метод цепочек - это один из способов разрешения коллизий в хеш-таблице, когда разные ключи хешируются в один и тот же индекс. При использовании этого метода, каждый элемент хранится в виде связанного списка, где все элементы, которые хешируются в один индекс, хранятся в одном списке.

![ChainList](source/chainlist.png)

Коллизия - это ситуация, когда разные ключи хешируются в один и тот же индекс в хеш-таблице. Коллизии могут приводить к увеличению времени поиска элементов в таблице, так как необходимо производить дополнительные операции для поиска нужного элемента.

Заселенность - это средняя длина цепочки элементов в хеш-таблице. Заселенность показывает, насколько заполнена таблица, и она может влиять на производительность операций поиска и добавления элементов. При слишком высокой заселенности возрастает вероятность коллизий, что может привести к увеличению времени поиска и добавления элементов. 


## Часть 1. Работа с хеш-функциями

Прежде чем начать работу над оптимизацией необходимо выбрать подходящую хеш-функцию. Нет смысла пытаться оптимизировать работу с хеш-таблицей, основанной на хеш-функции, дисперсия распределения которой очень велика. Поэтому решено рассмотреть 7 различных хеш-функций, проанализировать их дисперсии распределния после загрузки базы данных и выбрать одну функцию для дальнейшей оптимизации. 

Измерения на проводятся на базе данных (роман "Fight Club") из 50000 слов и хеш-таблице ёмкостью 2000 элементов, чтобы заселённость была равна примерно 10-20 элементов. 

Итак, рассмотрим хеш-функции и графики их распределения с рассчитанной дисперсией.

--------------------------------------------------------
### **1. Const hash**
Возвращает 1 независимо от входных данных.
```C++
static unsigned int constHash(const char* str)
{
    return 1;
}
```
<details>

<summary> Распределение хеш-функции </summary>
![bar1](data/bar_chart_1.png)

</details>




